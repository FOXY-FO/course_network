{"version":3,"sources":["utils/validators/index.js","components/Profile/ProfileInfo/ProfileInfo.module.scss","components/Profile/ProfileStatus/ProfileStatus.module.scss","components/UI/Post/Post.module.scss","components/UI/FormControls/Textarea/Textarea.module.scss","components/Profile/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/UI/Post/Post.jsx","components/UI/FormControls/Textarea/Textarea.jsx","components/UI/NewPost/NewPost.jsx","components/UI/NewPost/NewPostContainer.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","redux/selectors/profile-selectors.js","redux/selectors/auth-selectors.js","components/Profile/ProfileContainer.jsx"],"names":["required","value","maxLengthCreator","maxLength","length","minLengthCreator","minLength","module","exports","ProfileStatus","getUserStatus","currentUserId","props","useState","editMode","setEditMode","status","setStatus","useEffect","className","s","inactive","onDoubleClick","autoFocus","onBlur","updateUserStatus","type","onChange","e","onStatusChange","target","ProfileInfo","profile","Preloader","photos","fullName","aboutMe","userId","img","src","large","noImage","alt","info","Post","children","likesCount","image","noUser","post","text","likesWrapper","Textarea","input","meta","hasError","error","touched","cs","control","errorMessage","maxLength150","NewPostForm","onSubmit","handleSubmit","Field","name","component","validate","reduxForm","form","NewPost","addPost","formData","newPost","connect","MyPosts","posts","NewPostContainer","map","id","key","state","profilePage","Profile","MyPostsContainer","getProfilePage","getProfile","createSelector","getStatus","getAuth","auth","getUserId","getIsAuth","email","login","isAuth","compose","getProfileThunk","withRouter","match","shouldRedirect","setShouldRedirect","params","to"],"mappings":"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","file":"static/js/4.6d8c961f.chunk.js","sourcesContent":["export let required = (value) => {\n  if (value) return undefined\n\n  return \"Field is required\"\n}\n\nexport let maxLengthCreator = (maxLength) => (value) => {\n  if (value && value.length > maxLength)\n    return `Max length is ${maxLength} symbols`\n\n  return undefined\n}\n\nexport let minLengthCreator = (minLength) => (value) => {\n  if (value && value.length < minLength)\n    return `Min length is ${minLength} symbols`\n\n  return undefined\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"ProfileInfo_img__8yYl-\",\"info\":\"ProfileInfo_info__2nY6a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inactive\":\"ProfileStatus_inactive__2Hsan\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__3vlmP\",\"image\":\"Post_image__39pMj\",\"wrapper\":\"Post_wrapper__3TW29\",\"likesWrapper\":\"Post_likesWrapper__3zKH8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"control\":\"Textarea_control__X5vTr\",\"error\":\"Textarea_error__OzO9l\",\"errorMessage\":\"Textarea_errorMessage__1nTAh\"};","import React, { useState, useEffect } from \"react\"\nimport s from \"./ProfileStatus.module.scss\"\n\nconst ProfileStatus = ({ getUserStatus, currentUserId, ...props }) => {\n  const [editMode, setEditMode] = useState(false)\n  const [status, setStatus] = useState(props.status)\n\n  useEffect(() => {\n    getUserStatus(currentUserId)\n  }, [currentUserId, getUserStatus])\n\n  useEffect(() => {\n    setStatus(props.status)\n  }, [props.status])\n\n  const activateEditMode = () => {\n    setEditMode(true)\n  }\n\n  const deactivateEditMode = () => {\n    setEditMode(false)\n    props.updateUserStatus(status)\n  }\n\n  const onStatusChange = (status) => {\n    setStatus(status)\n  }\n\n  return (\n    <>\n      {!editMode && (\n        <div>\n          <div className={s.inactive} onDoubleClick={activateEditMode}>\n            {status}\n          </div>\n        </div>\n      )}\n      {editMode && (\n        <div>\n          <input\n            autoFocus\n            onBlur={deactivateEditMode}\n            type=\"text\"\n            value={status}\n            onChange={(e) => {\n              onStatusChange(e.target.value)\n            }}\n          />\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default ProfileStatus\n","import React from \"react\"\nimport s from \"./ProfileInfo.module.scss\"\nimport noImage from \"../../../assets/img/no-user.jpg\"\nimport Preloader from \"../../UI/Preloader/Preloader\"\nimport ProfileStatus from \"../ProfileStatus/ProfileStatus\"\n\nconst ProfileInfo = ({ profile, ...props }) => {\n  if (!profile) return <Preloader />\n\n  let { photos, fullName, aboutMe, userId } = profile\n\n  return (\n    <div>\n      <div className={s.img}>\n        <img src={photos.large ? photos.large : noImage} alt=\"\" />\n      </div>\n      <div>\n        <ProfileStatus {...props} />\n      </div>\n      <div className={s.info}>\n        <div>name: {fullName}</div>\n        <div>aboutMe: {aboutMe}</div>\n        <div>userId: {userId}</div>\n      </div>\n    </div>\n  )\n}\n\nexport default ProfileInfo\n","import React from \"react\"\nimport s from \"./Post.module.scss\"\nimport noUser from \"../../../assets/img/no-user.jpg\"\n\nconst Post = ({ children, likesCount, image = noUser }) => {\n  return (\n    <div>\n      <div className={s.post}>\n        <div className={s.image}>\n          <img src={image} alt=\"\" />\n        </div>\n        <div className={s.text}>{children}</div>\n      </div>\n      <div className={s.likesWrapper}>\n        <div>likes: {likesCount}</div>\n      </div>\n    </div>\n  )\n}\n\nexport default Post\n","import React from \"react\"\nimport cs from \"classnames\"\nimport s from \"./Textarea.module.scss\"\n\nlet Textarea = ({ input, meta, ...props }) => {\n  let hasError = meta.error && meta.touched\n\n  return (\n    <div className={cs(s.control, { [s.error]: hasError })}>\n      <textarea {...input} {...props} />\n\n      {hasError && <div className={s.errorMessage}>{meta.error}</div>}\n    </div>\n  )\n}\n\nexport default Textarea\n","import React from \"react\"\nimport { reduxForm, Field } from \"redux-form\"\nimport { required, maxLengthCreator } from \"../../../utils/validators\"\nimport Textarea from \"../FormControls/Textarea/Textarea\"\n\nlet maxLength150 = maxLengthCreator(150)\n\nlet NewPostForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <Field\n        name=\"newPost\"\n        component={Textarea}\n        validate={[required, maxLength150]}\n      />\n      <button type=\"submit\">Add post</button>\n    </form>\n  )\n}\n\nNewPostForm = reduxForm({\n  form: \"newPost\",\n})(NewPostForm)\n\nconst NewPost = ({ addPost }) => {\n  let onSubmit = (formData) => {\n    addPost(formData.newPost)\n  }\n\n  return (\n    <div>\n      <NewPostForm onSubmit={onSubmit} />\n    </div>\n  )\n}\n\nexport default NewPost\n","import { addPost } from \"../../../redux/profile-reducer\"\nimport NewPost from \"./NewPost\"\nimport { connect } from \"react-redux\"\n\nexport default connect(null, { addPost })(NewPost)\n","import React from \"react\"\nimport Post from \"../../UI/Post/Post\"\nimport NewPostContainer from \"../../UI/NewPost/NewPostContainer\"\n\nconst MyPosts = ({ posts }) => {\n  return (\n    <div>\n      <NewPostContainer />\n      <div>\n        {posts.map(({ id, text, likesCount }) => (\n          <Post key={id} likesCount={likesCount}>\n            {text}\n          </Post>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default MyPosts\n","import { connect } from \"react-redux\"\nimport MyPosts from \"./MyPosts\"\n\nlet mapStateToProps = (state) => ({ posts: state.profilePage.posts })\n\nexport default connect(mapStateToProps)(MyPosts)\n","import React from \"react\"\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\"\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\"\n\nconst Profile = (props) => {\n  return (\n    <>\n      <ProfileInfo {...props} />\n      <MyPostsContainer />\n    </>\n  )\n}\n\nexport default Profile\n","import { createSelector } from \"reselect\"\n\nexport const getProfilePage = (state) => {\n  return state.profilePage\n}\n\nexport const getPosts = createSelector(getProfilePage, (profilePage) => {\n  return profilePage.posts\n})\n\nexport const getProfile = createSelector(getProfilePage, (profilePage) => {\n  return profilePage.profile\n})\n\nexport const getStatus = createSelector(getProfilePage, (profilePage) => {\n  return profilePage.status\n})\n","import { createSelector } from \"reselect\"\n\nexport const getAuth = (state) => {\n  return state.auth\n}\n\nexport const getUserId = createSelector(getAuth, (auth) => {\n  return auth.userId\n})\n\nexport const getEmail = createSelector(getAuth, (auth) => {\n  return auth.email\n})\n\nexport const getLogin = createSelector(getAuth, (auth) => {\n  return auth.login\n})\n\nexport const getIsAuth = createSelector(getAuth, (auth) => {\n  return auth.isAuth\n})\n","import React, { useState, useEffect } from \"react\"\nimport { compose } from \"redux\"\nimport { connect } from \"react-redux\"\nimport { withRouter, Redirect } from \"react-router-dom\"\nimport {\n  getProfileThunk,\n  getUserStatus,\n  updateUserStatus,\n} from \"../../redux/profile-reducer\"\nimport Profile from \"./Profile\"\nimport { getProfile, getStatus } from \"../../redux/selectors/profile-selectors\"\nimport { getIsAuth, getUserId } from \"../../redux/selectors/auth-selectors\"\n\nlet ProfileContainer = ({\n  getProfile,\n  match,\n  currentUserId,\n  isAuth,\n  ...props\n}) => {\n  let [shouldRedirect, setShouldRedirect] = useState(false)\n\n  useEffect(() => {\n    if (isAuth) {\n      getProfile(match.params.userId ? match.params.userId : currentUserId)\n    } else {\n      if (match.params.userId) {\n        getProfile(match.params.userId)\n      } else {\n        setShouldRedirect(true)\n      }\n    }\n  }, [match, getProfile, currentUserId, isAuth])\n\n  if (shouldRedirect) {\n    return <Redirect to=\"/login\" />\n  }\n\n  return <Profile {...props} currentUserId={currentUserId} />\n}\n\nlet mapStateToProps = (state) => ({\n  profile: getProfile(state),\n  status: getStatus(state),\n  currentUserId: getUserId(state),\n  isAuth: getIsAuth(state),\n})\n\nexport default compose(\n  connect(mapStateToProps, {\n    getProfile: getProfileThunk,\n    getUserStatus,\n    updateUserStatus,\n  }),\n  withRouter\n)(ProfileContainer)\n"],"sourceRoot":""}